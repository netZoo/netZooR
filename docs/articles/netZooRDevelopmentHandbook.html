<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>netZooR Development Handbook • netZooR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="netZooR Development Handbook">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">netZooR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.7.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/ALPACA.html">Detecting differential modules using ALPACA</a>
    </li>
    <li>
      <a href="../articles/ApplicationinGTExData.html">Building PANDA and LIONESS Regulatory Networks from GTEx Gene Expression Data in R</a>
    </li>
    <li>
      <a href="../articles/ApplicationwithTBdataset.html">netZooR application with TB dataset</a>
    </li>
    <li>
      <a href="../articles/LionessApplicationinGTExData.html">Comparing LIONESS Regulatory Networks using limma</a>
    </li>
    <li>
      <a href="../articles/SAMBAR.html">SAMBAR: Subtyping Agglomerated Mutations By Annotation Relations</a>
    </li>
    <li>
      <a href="../articles/netZooRDevelopmentHandbook.html">netZooR Development Handbook</a>
    </li>
    <li>
      <a href="../articles/pandaR.html">An Introduction to the pandaR Package</a>
    </li>
    <li>
      <a href="../articles/pandaRApplicationinGTExData.html">Building PANDA Regulatory Networks from GTEx Gene Expression Data in R</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>netZooR Development Handbook</h1>
                        <h4 class="author">Tian Wang</h4>
            
            <h4 class="date">2020-08-13</h4>
      
      
      <div class="hidden name"><code>netZooRDevelopmentHandbook.Rmd</code></div>

    </div>

    
    
<div id="add-a-new-tool" class="section level1">
<h1 class="hasAnchor">
<a href="#add-a-new-tool" class="anchor"></a>Add a new tool</h1>
<ol style="list-style-type: decimal">
<li>Fork and clone netZooR repository <a href="https://github.com/netZoo/netZooR" class="uri">https://github.com/netZoo/netZooR</a> to local working directory.</li>
<li>check pinot 1-7 <a href="https://netzoo.github.io/contribute/contribute/#pull-requests-to-netzoo" class="uri">https://netzoo.github.io/contribute/contribute/#pull-requests-to-netzoo</a> for how to use Git.</li>
</ol>
<p>Idealy, all functions of the new tool should be written into one script named by tool and be placed in <em>netZooR/R/</em>, like <em>netZooR/R/CONDOR.R</em>. And function name convention is <code>toolname.functionname</code>, like <code>condor.cluster</code>.</p>
<div id="documenting-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#documenting-functions" class="anchor"></a>Documenting functions</h2>
<p>Follow the procedure and example documentation chuck on <em>“The documentation workflow”</em> section on <a href="http://r-pkgs.had.co.nz/man.html" class="uri">http://r-pkgs.had.co.nz/man.html</a>.</p>
<div id="when-examples-doesnt-work" class="section level3">
<h3 class="hasAnchor">
<a href="#when-examples-doesnt-work" class="anchor"></a>when <span class="citation">@examples</span> doesn’t work</h3>
<p>“For the purpose of illustration, it’s often useful to include code that causes an error. <code>\dontrun{}</code> allows you to include code in the example that is not run. (You used to be able to use <code>\donttest{}</code> for a similar purpose, but it’s no longer recommended because it actually is tested.)” <br>In the most common cases, we use <code>\donttest{}</code>.</p>
</div>
<div id="add-unit-tests" class="section level3">
<h3 class="hasAnchor">
<a href="#add-unit-tests" class="anchor"></a>add unit tests</h3>
<p>At this point, you might want to create a new buildnetZooR.R script located anywhere outside of /netZooR folder, set the working directory to the path of <em>“/netZooR”</em> folder, e.g. <code><a href="https://rdrr.io/r/base/getwd.html">setwd("~/Documents/GitHub/netZooR/")</a></code></p>
<p>In this buildnetZooR.R script, run <code><a href="https://usethis.r-lib.org/reference/use_testthat.html">usethis::use_test("name_of_your_tool")</a></code> and one new test script named “test-name_of_your_tool.R”" will be created (in <em>netZooR/tests/testthat/</em>) and opened to modify. In this test script, you could write unit tests as many as possible to cover all lines in your tool, a good example is <em>netZooR/tests/testthat/test-panda.R</em>.</p>
</div>
<div id="data-used-in-test-script" class="section level3">
<h3 class="hasAnchor">
<a href="#data-used-in-test-script" class="anchor"></a>data used in test script</h3>
<div id="r-vectors-data" class="section level4">
<h4 class="hasAnchor">
<a href="#r-vectors-data" class="anchor"></a>R vectors data</h4>
<p>It’s highly recommended to create small and repoducible dataset in the test script, but in the cases of real world dataset, like gene expression dataset, if it’s .Rdata or it can be presented as R vector, you could load this .Rdata file <em>netZooR/tests/testthat/testDataset.RData</em>, generate or move your own data into the r enviroment, and re-save all dataset including the r objects come with <em>testDataset.RData</em>, as the original name and in original path, i.e. re-save as <em>netZooR/tests/testthat/testDataset.RData.</em> <br><strong>Please do NOT use the same vector name as the vectors are already in testDataset.RData.</strong></p>
</div>
<div id="data-in--txt-ect--file" class="section level4">
<h4 class="hasAnchor">
<a href="#data-in--txt-ect--file" class="anchor"></a>data in .txt ect. file</h4>
<p>Data in .txt, .cvs, .gmt or other file format, it can be stored in <em>/netZooR/inst/extdata</em>. But, it’s still recommended to convert the data in file to r vector and store in testDataset.RData.</p>
</div>
</div>
<div id="check-unit-tests-works-or-not" class="section level3">
<h3 class="hasAnchor">
<a href="#check-unit-tests-works-or-not" class="anchor"></a>check unit tests works or not</h3>
<p>In your buildnetZooR.R, you could use <code><a href="https://rdrr.io/pkg/devtools/man/test.html">devtools::test()</a></code> to check all unit tests including the unit tests existing previously.</p>
<p>And there are also a funtion to check code coverage and coverage reports:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(covr)
covr<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/covr/man/package_coverage.html">package_coverage</a></span>(<span class="st">"path_of_/netZooR_folder"</span>)
covr<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/covr/man/report.html">report</a></span>()</code></pre></div>
<p>Move forward until all unit tests pass.</p>
</div>
</div>
<div id="add-vignette-optional" class="section level2">
<h2 class="hasAnchor">
<a href="#add-vignette-optional" class="anchor"></a>Add vignette, optional</h2>
<p>In buildnetZooR.R, use <code><a href="https://rdrr.io/pkg/devtools/man/devtools-deprecated.html">devtools::use_vignette("vignett_name")</a></code> can create a vignette .Rmd file, e.g. <code><a href="https://rdrr.io/pkg/devtools/man/devtools-deprecated.html">devtools::use_vignette("ALPACA")</a></code> will result in a vignett_name.Rmd file located in netZooR/vignettes, modify the vignette as desired. The syntax of vignette is R Markdown, the basic syntax can be found here, <a href="https://rmarkdown.rstudio.com/authoring_basics.html" class="uri">https://rmarkdown.rstudio.com/authoring_basics.html</a>.</p>
<p>Use code chunk options <a href="https://bookdown.org/yihui/rmarkdown/r-code.html" class="uri">https://bookdown.org/yihui/rmarkdown/r-code.html</a> as desired.</p>
<div id="upload-data-used-in-vignette-to-aws" class="section level3">
<h3 class="hasAnchor">
<a href="#upload-data-used-in-vignette-to-aws" class="anchor"></a>upload data used in vignette to AWS</h3>
<p>Data in .Rdata, .txt, .cvs, .gmt or other file format, it can be stored in AWS <a href="https://s3.console.aws.amazon.com/s3/buckets/netzoo/netZooR/unittest_datasets/?region=us-east-2&amp;tab=overview" class="uri">https://s3.console.aws.amazon.com/s3/buckets/netzoo/netZooR/unittest_datasets/?region=us-east-2&amp;tab=overview</a>, Please contact Marouen Ben Guebila at <a href="mailto:benguebila@hsph.harvard.edu">benguebila@hsph.harvard.edu</a>, and Camila Lopes-Ramos at <a href="mailto:camilaramos@hsph.harvard.edu">camilaramos@hsph.harvard.edu</a> for how to upload the dataset to AWS.</p>
<p>Then, download with <code><a href="https://rdrr.io/r/base/system.html">system("curl -O  file_url")</a></code>, a good example of how to download files from AWS and use in vignette like what <em>netZooR/vignettes/LionessApplicationinGTExData.Rmd</em> did</p>
</div>
</div>
<div id="modify-description-and-readme-md" class="section level2">
<h2 class="hasAnchor">
<a href="#modify-description-and-readme-md" class="anchor"></a>Modify DESCRIPTION and README.md</h2>
<p>In DESCRIPTION, add any text content as desired, and add dependecy package in either <code>Depends</code> or <code>Imports</code> section, for details about the difference between these two sections, click here, <a href="https://kbroman.org/pkg_primer/pages/depends.html" class="uri">https://kbroman.org/pkg_primer/pages/depends.html</a>.</p>
<p>And use Markdown syntax (<a href="https://www.markdownguide.org/basic-syntax/" class="uri">https://www.markdownguide.org/basic-syntax/</a>) to modify README.md as desired.</p>
</div>
</div>
<div id="development-circle" class="section level1">
<h1 class="hasAnchor">
<a href="#development-circle" class="anchor"></a>Development Circle</h1>
<p>After completing all above procedure: ## Build the package</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># set working directory to where the /netZooR located</span>
<span class="co"># e.g. setwd("~/Documents/GitHub/netZooR/")</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(devtools)
<span class="kw"><a href="https://rdrr.io/pkg/devtools/man/document.html">document</a></span>() <span class="co"># install any uninstalled packages at this step</span>
<span class="kw"><a href="https://rdrr.io/pkg/devtools/man/build.html">build</a></span>()</code></pre></div>
<div id="cmd-check" class="section level2">
<h2 class="hasAnchor">
<a href="#cmd-check" class="anchor"></a>CMD check</h2>
<p>Fix any errors in this step, and fix any warnings, notes as many as possible.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/devtools/man/check.html">check</a></span>()</code></pre></div>
</div>
<div id="re-build-documentation-websites" class="section level2">
<h2 class="hasAnchor">
<a href="#re-build-documentation-websites" class="anchor"></a>Re-build Documentation Websites</h2>
<div id="add-function-reference-in-pkgdown-config" class="section level3">
<h3 class="hasAnchor">
<a href="#add-function-reference-in-pkgdown-config" class="anchor"></a>Add function reference in pkgdown config</h3>
<p>In *netZooR/_pkgdown.yml<em>, modify in ‘reference’ section to add your tool and functions, please follow the format in the </em>_pkgdown.yml*.</p>
<p>After passing the CMD check, move to rebuild documentation website</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Install release version from CRAN</span>
<span class="kw"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"pkgdown"</span>)
<span class="co"># OR</span>
<span class="co"># Install development version from GitHub</span>
<span class="co"># devtools::install_github("r-lib/pkgdown")</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"pkgdown"</span>)
pkgdown<span class="op">::</span><span class="kw"><a href="https://pkgdown.r-lib.org/reference/build_site.html">build_site</a></span>()</code></pre></div>
<p><strong>After building the documentation website, please go to <em>netZooR/vignettes/</em> folder and delete all files except .Rmd files.</strong></p>
<p>If there is anything unclear or any questions, please feel free to contact me at <a href="mailto:tian.wang@bc.edu">tian.wang@bc.edu</a>.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#add-a-new-tool">Add a new tool</a><ul class="nav nav-pills nav-stacked">
<li><a href="#documenting-functions">Documenting functions</a></li>
      <li><a href="#add-vignette-optional">Add vignette, optional</a></li>
      <li><a href="#modify-description-and-readme-md">Modify DESCRIPTION and README.md</a></li>
      </ul>
</li>
      <li>
<a href="#development-circle">Development Circle</a><ul class="nav nav-pills nav-stacked">
<li><a href="#cmd-check">CMD check</a></li>
      <li><a href="#re-build-documentation-websites">Re-build Documentation Websites</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Tian Wang, Marouen Ben Guebila, John Platig, Marieke Kuijjer, Magha Padi, Rebekka Burkholz.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
